---
emoji: ğŸ˜€
title: Network Layer (3ê³„ì¸µ)
date: "2022-10-17 05:30:00"
author: ì´ì„±ì¸
tags: ì§§ì€ì§€ì‹
categories: ì§§ì€ì§€ì‹
---

# ğŸ˜ ì»´í“¨í„°ë„¤íŠ¸ì›Œí¬ 3ê³„ì¸µì´ë€??

network Layerì˜ ì£¼ëœ ì—­í• ì€ ë‹¤ë¥¸ ë„¤íŠ¸ì›Œí¬ ê°„ì˜ í†µì‹ ì„ ê°€ëŠ¥í•˜ê²Œ í•˜ëŠ”ê²ƒì…ë‹ˆë‹¤.  
2ê³„ì¸µì¸ Link layer ê¹Œì§€ëŠ” ë¬¼ë¦¬ì ìœ¼ë¡œ ì–´ëŠì •ë„ ì¸ì ‘í•œ ìƒíƒœë¥¼ ê³ ë ¤í–ˆë‹¤ë©´ ì´ì œëŠ” ì „í˜€ ë‹¤ë¥¸ ë„¤íŠ¸ì›Œí¬ ê°„ì˜ í†µì‹ ì„ ê³ ë ¤í•©ë‹ˆë‹¤.

ì´ë•Œ, ì¤‘ìš”í•œ ê²ƒì€ 2ê°€ì§€ì…ë‹ˆë‹¤.

- í•´ë‹¹ ê³„ì¸µ "ë‚´ë¶€"ì—ì„œì˜ íŒ¨í‚·ì˜ íë¦„ (data plane)
- í•´ë‹¹ source -> destination ìœ¼ë¡œ íë¥´ëŠ” ê¸¸ì„ ì°¾ê¸° (control plane)

# Routing protocol

Routing Protocolì´ë€ Routingì„ ì •í•˜ëŠ” ë°©ì‹ë“¤ì„ ì˜ë¯¸í•©ë‹ˆë‹¤.  
í¬ê²Œ ë‘ê°€ì§€ë¡œ ì´ë£¨ì–´ì ¸ ìˆìŠµë‹ˆë‹¤!

## 1. Link State

ëª¨ë“  ë¼ìš°í„°ë“¤ì´ ë‹¤ë¥¸ ë§í¬ë“¤ì— ëŒ€í•œ "ëª¨ë“ " Costë¥¼ ì•Œê³  ìˆëŠ” ê²½ìš° ì…ë‹ˆë‹¤.
ì´ ë°©ì‹ì—ì„œëŠ” ëª¨ë“  ë…¸ë“œì— ëŒ€í•œ Link Costë¥¼ ì•Œê³  ìˆê¸° ë•Œë¬¸ì— **ë‹¤ìµìŠ¤íŠ¸ë¼ ì•Œê³ ë¦¬ì¦˜**ì„ ì‚¬ìš©í•©ë‹ˆë‹¤. (ì „ì²´ ê³µìœ !!)

![image](https://user-images.githubusercontent.com/77886826/196251071-214ab91d-9269-4b6b-86ba-6cb0053abed6.png)  
TSPë¥¼ ë– ì˜¬ë¦¬ë©´ ì‰½ìŠµë‹ˆë‹¤. ìœ„ëŠ” ë‹¤ìµìŠ¤íŠ¸ë¼ìì—ì„œ ê¸¸ì„ ì°¾ëŠ” ë°©ë²•ì´ë©°, ì‹œê°„ì— íë¦„ì— ë”°ë¼ ëª©ì ì§€ë¡œ ì´ë™í•˜ë˜ ë„ì¤‘ ìì‹ ì´ ì•Œê³  ìˆë˜ ì •ë³´ì— ìƒˆë¡œìš´ ì •ë³´ë¥¼ ì¶”ê°€í•˜ë©´ì„œ ê°€ì¥ ìµœì €ì˜ costë¥¼ ì°¾ì•„ì„œ ì´ë™í•˜ëŠ” ë°©ì‹ì…ë‹ˆë‹¤.

![image](https://user-images.githubusercontent.com/77886826/196250938-6f6f0c66-1b19-484a-9bb0-96dea5687989.png)  
ë‹¤ìŒê³¼ ê°™ì´ ëª©ì ì§€ì¸ u -> zë¡œ ì´ë™í•˜ê¸° ìœ„í•œ ì‹ì´ë©° 12ê°€ ìµœì†Œì˜ ë¹„ìš©ì¸ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì´ë•Œ ì¥ì ì€ Linkì— ë¬¸ì œê°€ ìƒê¸°ê²Œ ëœë‹¤ë©´ ëª¨ë“  ë…¸ë“œê°€ í•´ë‹¹ Linkì—ì„œ ë°œìƒí•œ ë¬¸ì œë¥¼ ë¹ ë¥´ê²Œ ê³µìœ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  
ë‹¨ì ì€ ë‹¹ì—°íˆ ëª¨ë“  ë…¸ë“œê°€ í•´ë‹¹ Linkë“¤ì— ëŒ€í•œ ì •ë³´ë¥¼ ê³µìœ í•´ì•¼í•˜ë¯€ë¡œ ê³„ì‚°ëŸ‰ì´ ë§ìŠµë‹ˆë‹¤.

## 2. Distance vector

ëª¨ë“  ë¼ìš°í„°ë“¤ì´ ë‹¤ë¥¸ ë§í¬ë“¤ì— ëŒ€í•œ "ëª¨ë“ " Costë¥¼ ì•Œê³  ìˆì§€ëŠ” ëª»í•©ë‹ˆë‹¤.  
ë°”ë¡œ ì¸ì ‘í•œ nodeë“¤ì— ì—°ê²°ëœ Linkë“¤ì— í•´ë‹¹í•˜ëŠ” costë§Œì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤.

ì´ë•Œ ì‚¬ìš©í•˜ëŠ” ì•Œê³ ë¦¬ì¦˜ì€ ë²¨ë§Œí¬ë“œ ì•Œê³ ë¦¬ì¦˜ì…ë‹ˆë‹¤. í•´ë‹¹ ë°©ì‹ì„ ê°„ë‹¨íˆ ìš”ì•½í•˜ìë©´ ì¤‘ê°„ ë…¸ë“œ ê¹Œì§€ì˜ í•©ë“¤ì˜ ìµœì†Ÿê°’ì„ updateí•´ì£¼ë©° ê°’ì„ ê°€ì§‘ë‹ˆë‹¤.

ê° ë…¸ë“œë“¤ì€ ë³€í™”ê°€ ì˜¬ë•Œê¹Œì§€ ê¸°ë‹¤ë¦¬ê³  ë³€í™”ê°€ ìƒê¸°ë©´ ê³„ì‚°í•˜ì—¬ ì´ ê°’ì˜ ìµœì ì´ë¼ë©´ updateí•˜ê³  neigborì— ì•Œë¦½ë‹ˆë‹¤.

![image](https://user-images.githubusercontent.com/77886826/196254059-a9a43d08-be24-44a8-b201-753b637ad587.png)

í•´ë‹¹ ë°©ì‹ì„ í†µí•´ì„œ ìµœì¢… í…Œì´ë¸”ì„ ì™„ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

Distance vectorì˜ ì¥ì ì€ ì—°ì‚°ëŸ‰ì´ ì ìŠµë‹ˆë‹¤. ì „ì²´ ë…¸ë“œë“¤ì— ëŒ€í•œ costë“¤ì„ í•­ìƒ updateë¥¼ í•´ì¤„ í•„ìš”ëŠ” ì—†ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.

![image](https://user-images.githubusercontent.com/77886826/196254368-6c63253b-8eb1-40a4-b007-679da0d907cb.png)  
ë˜í•œ ì¢‹ì€ ì •ë³´ëŠ” ê¸ˆë°© ëª¨ë“  ë…¸ë“œë“¤ì— ì „íŒŒê°€ ë©ë‹ˆë‹¤.  
![image](https://user-images.githubusercontent.com/77886826/196254398-9592a10c-d351-4c8b-b8d4-483f46a0a250.png)  
systemì—ì„œ ì•ˆì¢‹ì€ ìƒí™©, ì˜ˆë¥¼ ë“¤ì–´ linkê°€ ëŠì–´ì§„ ê²½ìš°ê°€ ë°œìƒí•œë‹¤ë©´ ì¸ì ‘ë…¸ë“œë“¤ì—ê²Œ í•´ë‹¹ ì‚¬ì‹¤ì˜ ì „íŒŒê°€ êµ‰ì¥íˆ ëŠë¦¬ê²Œ ì´ë£¨ì–´ì§‘ë‹ˆë‹¤.

# Network layerì—ì„œ congestion ë§‰ëŠ” ë°©ë²•

2ê³„ì¸µì—ì„œëŠ” ì¶©ëŒì‹œ ì‹œê°„ì„ ë‘ê³  random í•˜ê²Œ (2ì˜ ì œê³±) ë§Œí¼ì˜ ì‹œê°„ì„ ëŠ˜ë ¤ê°€ë©° ì‹œê°„ì„ ë‘ê³  ë³´ë‚¸ë‹¤. í˜¹ì€ persistantí•˜ê²Œ ë³´ë‚´ê±°ë‚˜ ì•ˆë³´ë‚´ê±°ë‚˜ë¥¼ ê²°ì •í•œë‹¤.

## 1. flow controlì„ ê´€ë¦¬í•œë‹¤

íŠ¹ì •ì‹œê°„, êµ¬ê°„ì— dataê°€ ëª¨ì´ê¸° ë–„ë¬¸ì— ë°œìƒí•©ë‹ˆë‹¤. ë”°ë¼ì„œ congestion ë°œìƒì‹œ í•´ë‹¹ linkë¥¼ ì œê±°í•˜ê³  virtual pathë¥¼ ë§Œë“­ë‹ˆë‹¤.
Aì—ì„œ Dê¹Œì§€ì˜ ê²½ë¡œëŠ” ë‹¤ìŒê³¼ ê°™ì´
A -> E -> F -> D (ì˜ì–´ëŠ” ì˜ë¯¸ê°€ ì—†ìŠµë‹ˆë‹¤ 6ê°í˜•ë„í˜•ì„ ìƒê°í•´ì£¼ì„¸ìš”) ê°€ ëœë‹¤.
ì´ë•Œ, "choke packet"ì„ ë³´ë‚´ì–´ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

![image](https://user-images.githubusercontent.com/77886826/196263612-7c1c5806-7375-4490-ad46-2fbbef265a70.png)

ë¼ìš°í„°ì—ì„œëŠ” íŒ¨í‚·ì„ ì£¼ì˜ í‘œì‹œí•œ ì¶œë ¥ ì„ ë¡œë¡œ ë¼ìš°íŒ…í•  ë•Œ íŒ¨í‚· ì†¡ì‹  í˜¸ìŠ¤íŠ¸ì—ê²Œ ì´ˆí¬ íŒ¨í‚·ì„ ì „ì†¡í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ˆí¬ íŒ¨í‚·ì„ ìˆ˜ì‹ í•œ ì†¡ì‹  í˜¸ìŠ¤íŠ¸ëŠ” ì‚¬ìš©í•˜ëŠ” ê²½ë¡œ ì¼ë¶€ì— í˜¼ì¡ì´ ë°œìƒí•  ìˆ˜ ìˆìŒì„ íŒë‹¨í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ì „ì†¡ íŒ¨í‚·ì˜ ì–‘ì„ ì¤„ì…ë‹ˆë‹¤.

ì¦‰ ì´ˆí¬ íŒ¨í‚·ì„ í†µí•´ ì£¼ì˜í•´ì•¼í•˜ëŠ” Linkì— ëŒ€í•œ ì •ë³´ë¥¼ ë°›ì„ ìˆ˜ ì‡ìŠµë‹ˆë‹¤.

## 2. Jitter

Jitterì´ë€ íŠ¹ì •í•œ ì‹ í˜¸ì— ëŒ€í•´ì„œ ë‚´ê°€ "ì›í•˜ëŠ” ì‹ í˜¸"ì™€ "ì‹¤ì œë¡œ ë°œìƒí•˜ëŠ” ì‹ í˜¸" ê°„ì— ë°œìƒí•˜ëŠ” ë¶ˆì•ˆì •í•œ ì‹ í˜¸ì˜ ì°¨ì´ë“¤ì´ Jitter ë¼ê³  ë¶€ë¦…ë‹ˆë‹¤.

![image](https://user-images.githubusercontent.com/77886826/196265708-2356f35e-1417-4ccf-8b7c-1ccb640f220d.png)
(ë„ˆë¬´ ëŒ€ì¶©ê·¸ë ¸ì§€ë§Œ...)  
ë‹¤ìŒê³¼ê°™ì´ ì‹ í˜¸ê°€ ì˜¬ë•Œ peakì ì´ ë‚´ê°€ ì›í•˜ëŠ” ì‹ í˜¸ë¼ê³  í•œë‹¤ë©´ ì™¼ìª½ì€ high Jitterì— í•´ë‹¹í•˜ë©° ì›ë˜ ì‹ í˜¸ì— ëŒ€ë¹„í•˜ì—¬ ì–‘ìª½ì— ë¶ˆì•ˆì •í•œ ì‹ í˜¸ë“¤ì´ ë§ì€ê²ƒì…ë‹ˆë‹¤. ë°˜ëŒ€ë¡œ ì™¼ìª½ì€ ë‚´ê°€ ì›í•˜ëŠ” ì‹ í˜¸ê°€ ì§§ì€ ì‹œê°„ë™ì•ˆì— ë“¤ì–´ì˜¤ëŠ”ê²ƒì„ í™•ì¸í•  ìˆ˜ìˆ ìŠµë‹ˆë‹¤.
ë”°ë¼ì„œ streamingê³¼ ê°™ì´ ì •í•´ì§„ ì‹œê°„ì— ë™ì¼í•œ ì¶œë ¥ë¬¼ì´ í•„ìš”í•  ë•ŒëŠ” low Jitterì¸ê²ƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤.

## 3. Buffering

ì‹œìŠ¤í…œì—ì„œ ì²˜ë¦¬ë¥¼ ì–´ë–¤ ì¥ì¹˜ë¡œ ë¶€í„° ë‹¤ë¥¸ ì¥ì¹˜ë¡œ ë°ì´í„°ë¥¼ ì •ì†í•  ë–„ ì–‘ìª½ì˜ ì†ë„ì°¨ë¥¼ ìˆ˜ì •í•˜ê¸° ìœ„í•´ì„œ ê³ ì•ˆë˜ì—ˆìŠµë‹ˆë‹¤

ì˜ˆë¥¼ ë“¤ì–´ ë™ì˜ìƒì„ ë³´ë‚´ëŠ” ê²½ìš° ë™ì˜ìƒì— í•´ë‹¹í•˜ëŠ” ì •ë³´ê°€ linearí•˜ê²Œ ë„ì°©í•´ì•¼ í•˜ëŠ”ë° discreteí•˜ê²Œ ë„ì°©í•˜ë©´ ì˜ìƒì´ ì•„ë‹Œ ì‚¬ì§„ë¬¼ë¡œì„œ ê°ì‚¬í•˜ê²Œ ë©ë‹ˆë‹¤. ë”°ë¼ì„œ ì¼ì •ì‹œê°„ë™ì•ˆ linearí•˜ê²Œ ì˜ìƒì„ ë³¼ìˆ˜ ìˆê²Œë” ì˜ìƒì •ë³´ë¥¼ ì €ì¥í•˜ê²Œ ë˜ëŠ”ë° ì´ë•Œ ê±¸ë¦¬ëŠ” ê³¼ì •ì„ ë²„í¼ë§ì´ë¼ê³  í•©ë‹ˆë‹¤.

## 4. Leaky bucket algorithm

![image](https://user-images.githubusercontent.com/77886826/196266850-47fd9da9-8900-492b-a8a2-9d9ed29a5736.png)  
ì–‘ë™ì´ì˜ êµ¬ë©ì´ ì„œë²„ê°€ ìš”ì²­ì„ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” ì²˜ë¦¬ì†ë„ë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤.
ì²˜ë¦¬ì†ë„ëŠ” constantí•©ë‹ˆë‹¤.
ì´ë•Œ ë¬¸ì œê°€ ë°œìƒí•©ë‹ˆë‹¤. 2ëª…ì´ ì‚¬ìš©ì¤‘ì¸ë° í•œëª…ì´ ì‚¬ìš©ëŸ‰ì´ ê¸‰ì¦í•˜ê²Œ ëœë‹¤ë©´ ë‚˜ë¨¸ì§€ í•œëª…ì˜ ì‚¬ìš©ì—ëŠ” ì œì•½ì´ ìƒê¸°ê²Œ ë©ë‹ˆë‹¤ ë”°ë¼ì„œ ì´ë°©ì‹ì„ ì‚¬ìš©í•˜ê²Œ ë˜ë©´ ë‚˜ë¨¸ì§€ í•œëª…ë„ ë™ì‹œì— ëŠë ¤ì§‘ë‹ˆë‹¤.

## 5. token bucket algorithm

ë°œìƒí•˜ëŠ” í† í°ì˜ ìˆ˜ë§Œí¼ dataë¥¼ ë³´ë‚¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. (ì¼ì¢…ì˜ í†µí–‰ì„¸ ëŠë‚Œ) ë”°ë¼ì„œ ìˆœì°¨ì ìœ¼ë¡œ tokenì„ ë°›ê¸° ë–„ë¬¸ì— ì‚¬ìš©ëŸ‰ì´ ì ë˜ ê³µí‰í•˜ê²Œ dataë¥¼ ë³´ëƒ„ì— ìˆì–´ì„œ ì´ë“ì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ë˜í•œ ì²˜ë¦¬ì†ë„ê°€ constantí•œê²ƒì´ ì•„ë‹Œ burstí•˜ê²Œë„ ê°€ëŠ¥í•©ë‹ˆë‹¤

# IP

![image](https://user-images.githubusercontent.com/77886826/196273477-82d0e080-ec1d-4a3f-b314-0da5008019f1.png)
ë¼ìš°íŒ… í”„ë¡œí† ì½œì„ í†µí•´ packetì„ ê²½ë¡œë¥¼ ì„ íƒí•˜ê³ , IPí”„ë¡œí† ì½œì„ í†µí•´ packetì„ datagramì˜ í˜•íƒœë¡œ ë§Œë“¤ë©° ,ICMPí”„ë¡œí† ì½œì„ í†µí•´ ì—ëŸ¬ë¥¼ ê¸°ë¡í•©ë‹ˆë‹¤. ì§€ê¸ˆ ë¶€í„°ëŠ” IP í”„ë¡œí† ì½œì— ëŒ€í•´ì„œ ë°°ì›Œë³´ê² ìŠµë‹ˆë‹¤.

## IPv4 datagram format

![image](https://user-images.githubusercontent.com/77886826/196273657-266fbc13-08b8-4a64-9372-9b0466b906e5.png)

ttl : time to liveì— í•´ë‹¹í•˜ë©° datagramì˜ ìˆ˜ëª…ì„ ì˜ë¯¸í•©ë‹ˆë‹¤. ìˆ˜ëª…ì€ ì¤„ì–´ë“¤ì–´ì•¼ í•˜ë©° ìˆ˜ëª…ì´ ì¤„ì–´ë“¤ì§€ ì•Šìœ¼ë©´ ê³„ì† ìˆœí™˜í•˜ì—¬ ë¬¸ì œê°€ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

DTRC : ì§€ì—°ì‹œê°„ , ì²˜ë¦¬ìœ¨, ì‹ ë¢°ì„± , cost

## IP addressing

![image](https://user-images.githubusercontent.com/77886826/196274909-5b8cc37e-3aea-44c4-bfea-4fbe191ca3ea.png)  
ì´ 4ìë¦¬ë¥¼ ê°€ì§€ë©° ê°ê° 0.0.0.0 ë¶€í„° 255.255.255.255 ë¼ëŠ” ë²”ìœ„ë¥¼ ê°€ì§‘ë‹ˆë‹¤.
ìœ„ì˜ ì‚¬ì§„ì—ì„œëŠ” íŒŒë€ìƒ‰ìœ¼ë¡œ ì´ë£¨ì–´ì§„ ë¶€ë¶„ë“¤ì´ subnetìœ¼ë¡œ í†µì‹ ì´ ê°€ëŠ¥í•œ ë¶€ë¶„ì…ë‹ˆë‹¤. ì—¬ê¸°ì„œëŠ” ì¤‘ì•™ router ì— ì˜í–¥ì„ ë°›ì§€ ì•ŠìŠµë‹ˆë‹¤.

ì—¬ê¸°ì„œ IPëŒ€ì—­ì„ í™•ì¸í•´ë³´ë©´

![image](https://user-images.githubusercontent.com/77886826/196275696-198ef162-afb1-4555-a0c0-69c545b3b945.png)

ì—¬ê¸°ì„œ ë§¨ ëì— 24ê°€ ë¶™ì€ ì´ìœ ëŠ” ì´ 32 ë¹„íŠ¸ì¤‘ì—ì„œ ì•ì˜ 24ë¹„íŠ¸ë¥¼ ì„œë¸Œë„·ì— í•´ë‹¹ëœë‹¤ëŠ” ë‚´ìš©ì´ë©° 25ë²ˆì§¸ ë¹„íŠ¸ë¶€í„°ëŠ” ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## DHCP

Dynamic Host Configuration protocolìœ¼ë¡œ ë™ì ìœ¼ë¡œ í˜¸ìŠ¤íŠ¸ì—ê²Œ IPë¥¼ ë¶€ì—¬ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
ë°©ë²•ì€ ë‹¤ìŒê³¼ ê°™ì€ ì ˆì°¨ë¥¼ ê±°ì¹©ë‹ˆë‹¤.

- DHCP Discover : client ê°€ subnetì— ë¬¼ë¦¬ì ìœ¼ë¡œ ë„ì°©í•˜ë©´ clientê°€ ì„œë²„ë¥¼ ì°¾ìŠµë‹ˆë‹¤
- DHCP offer : ì„œë²„ëŠ” clientì—ê²Œ IP ì£¼ì†Œë¥¼ ì œê³µí•©ë‹ˆë‹¤
- DHCP request : clientëŠ” server ì—ê²Œ IP addressë¥¼ ì‚¬ìš©í•˜ê² ë‹¤ê³  ì „ë‹¬í•©ë‹ˆë‹¤
- DHCP ACK : serverëŠ” clientì—ê²Œ ACKë¥¼ ë³´ë‚´ í™•ì¸ë©”ì„¸ì§€ë¥¼ ë³´ëƒ…ë‹ˆë‹¤

DHCP ë¡œ ë°›ì€ iP ì£¼ì†ŒëŠ” ì •í•´ì§„ ì‹œê°„ë™ì•ˆ ì‚¬ìš©ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤. clientê°€ ìì²´ì—ì„œ ë” ì‚¬ìš©í•˜ê³  ì‹¶ë‹¤ë©´ packetì„ ì¶”ê°€ë¡œ ì„œë²„ë¡œ ë³´ëƒ…ë‹ˆë‹¤. ì—†ë‹¤ë©´ iP ë¥¼ ì œê±° í•˜ê³  ì¬í™œìš©í•©ë‹ˆë‹¤.

# What's inside a router

ì§€ê¸ˆê¹Œì§€ëŠ” control planeì— ëŒ€í•´ì„œ ë‹¤ë£¨ì–´ ë³´ì•˜ê³  ì´ì œë¶€í„°ëŠ” data planeì¸ routerë‚´ë¶€ë¥¼ ì •ë¦¬í•  ì˜ˆì •ì…ë‹ˆë‹¤.

![image](https://user-images.githubusercontent.com/77886826/196250433-09f0d9c5-1aad-4f91-b3ec-d72a8fcc3cb9.png)

ë‹¤ìŒê³¼ ê°™ì´ input port, switching fabric , output portë¡œ ì´ë£¨ì–´ì ¸ ìˆìœ¼ë©°  
ìœ„ì•„ë˜ë¡œëŠ” data plane, control planeìœ¼ë¡œ ì´ë£¨ì–´ì ¸ ìˆìŠµë‹ˆë‹¤.

## input port

![image](https://user-images.githubusercontent.com/77886826/196268225-a19cf11d-8488-4012-bcde-08e63a2c4efd.png)
inputì—ì„œëŠ” forwaring tableì„ ì´ìš©í•˜ì—¬ ì–´ë–¤ ouput portë¡œ ë‚˜ê°ˆì§€ í™•ì¸í•©ë‹ˆë‹¤. ì´ë•Œ queueingë¥¼ í†µí•´ì„œ ë°ì´í„°ê°€ ì¶•ì ë©ë‹ˆë‹¤.
queueingì€ ë‚˜ê°€ëŠ” ì†ë„ë³´ë‹¤ inputì— íŒ¨í‚·ì´ ë“¤ì–´ì˜¤ëŠ” ì†ë„ê°€ ë¹ ë¥¼ì‹œ ë°œìƒí•©ë‹ˆë‹¤.

ì´ë•Œ forwardingì—ëŠ” 2ê°€ì§€ ë°©ë²•ì´ ìˆìŠµë‹ˆë‹¤.
![image](https://user-images.githubusercontent.com/77886826/196268801-60de735d-ff6c-443a-8ebc-c47fa6ded92c.png)
ì²«ë²ˆì§¸ëŠ” detinationì— ë”°ë¼ output portë¥¼ ê²°ì •í•©ë‹ˆë‹¤. ì´ë•Œ ê³„ì‚°ëŸ‰ì„ ì¤„ì´ê¸° ìœ„í•´ ê³ ì•ˆëœ ë°©ë²•ì´ longest prefix matchingë°©ë²•ì…ë‹ˆë‹¤.
ë§¤ì¹˜ê°€ ë˜ëŠ” ê²ƒë“¤ì¤‘ì—ì„œ ê°€ì¥ ê¸¸ê²Œ ë§¤ì¹˜ê°€ ë˜ëŠ” ê²ƒì„ ê¸°ì¤€ìœ¼ë¡œ ë‚˜ê°€ê²Œ ë©ë‹ˆë‹¤.

![image](https://user-images.githubusercontent.com/77886826/196268944-a39dc305-4ad2-4574-be32-02666d8cd410.png)

ì´ë•Œ ì²«ë²ˆì§¸ëŠ” 0ë²ˆìœ¼ë¡œ ê°€ë©° 2ë²ˆì§¸ëŠ” ë” ë§ì´ ë§¤ì¹˜ëœ 1ë²ˆìœ¼ë¡œ ê°€ê²Œ ë©ë‹ˆë‹¤.

ë‘ë²ˆì¬ëŠ” ì¼ë°˜ì ì¸ ë°©ì‹ìœ¼ë¡œ ë‹¤ë¥¸ layerì—ì„œì˜ ì •ë³´ë¥¼ ì´ìš©í•´ì„œ forwardingí•˜ëŠ” ë°©ë²•ì…ë‹ˆë‹¤

ì˜ˆë¥¼ ë“¤ì–´,  
11001000 00010111 00010**\* **\*\*\*\***\* -> 0ë²ˆ link interface  
11001000 00010111 00011000 \*\***\*\*\*\*\* -> 1ë²ˆ link interface ì¼ë•Œ  
11001000 00010111 00011000 11100010 -> 1ë²ˆ link interfaceë¡œ ì´ë™

## switching fabrics

![image](https://user-images.githubusercontent.com/77886826/196269839-08f2c2c1-5a07-47e0-b10c-79f7c74886b4.png)

switchng fabricì€ input ê³¼ output ì‚¬ì´ì—ì„œ ì •ë³´ë¥¼ ì „ë‹¬ì‹œí‚¤ëŠ” ì—­í• ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.

- memory : ë©”ëª¨ë¦¬ë¥¼ ì´ìš©í•œ ë°©ì‹ìœ¼ë¡œ íŒ¨í‚·ì„ ë³µì‚¬í•´ì„œ ë„˜ê²¨ì¤ë‹ˆë‹¤. ë§¤ìš°ëŠë¦½ë‹ˆë‹¤
- bus : í•˜ë‚˜ì˜ ê¸¸ì„ ëª¨ë‘ ê³µìœ í•˜ë©° íŠ¹ì •í•œ bandwidthë¥¼ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤.
- crossbar : ë™ì‹œì— ì—¬ëŸ¬ê°œì˜ íŒ¨í‚·ì´ ì²˜ë¦¬ê°€ ê°€ëŠ¥í•˜ë©° ê²¹ì¹˜ì§€ ì•Šì•„ ë¬¸ì œê°€ ë°œìƒí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ì²˜ë¦¬ ì†ë„ë„ ë¹ ë¦…ë‹ˆë‹¤.

![image](https://user-images.githubusercontent.com/77886826/196270899-03858ad4-35fc-4798-a295-631efd7090e5.png)

ì–´ë–¤ fabricsë¥¼ ì‚¬ìš©í•¨ì— ë”°ë¼ congestionì´ ë°œìƒí•˜ê¸°ë„ í•©ë‹ˆë‹¤. ì´ë•Œ, ê°™ì€ output portë¥¼ ì‚¬ìš©í•œë‹¤ë©´ ê¸°ë‹¤ë ¤ì•¼ í•˜ëŠ” ë¬¸ì œê°€ ë°œìƒí•˜ê¸°ë„ í•©ë‹ˆë‹¤. í˜¹ì€ ë‘˜ì¤‘í•˜ë‚˜ë§Œ ë°›ê²Œ ë˜ëŠ” ë¬¸ì œê°€ ë°œìƒí•˜ê¸°ë„ í•©ë‹ˆë‹¤. ì´ë ‡ê²Œ delayê°€ ì»¤ì§€ê²Œ ë˜ì–´ queueingì´ ë°œìƒí•˜ê³  queueing ì‚¬ì´ì¦ˆë¥¼ ë„˜ì¹˜ë„ë¡ dataê°€ ëˆ„ì ë˜ëŠ” ê²½ìš° lossê°€ ë°œìƒí•˜ê¸°ë„ í•©ë‹ˆë‹¤.
ìœ„ ì‚¬ì§„ê³¼ ê°™ì€ ìƒí™©ì„ Head-of-the-line(HOL) blockingì´ë¼ê³  í•©ë‹ˆë‹¤.
cross ë°”ë¥¼ ì‚¬ìš©í•˜ë©´ ê´œì°®ìŠµë‹ˆë‹¤.

## output port

![image](https://user-images.githubusercontent.com/77886826/196270873-59801bf5-182b-431c-a12b-4464e9d23f07.png)

output portë¥¼ í†µí•´ ë‚˜ê°€ëŠ” ë°©ì‹ì—ë„ 3ê°€ì§€ ë°©ì‹ì´ ìˆìŠµë‹ˆë‹¤.

1. FIFO
   ![image](https://user-images.githubusercontent.com/77886826/196272138-c4067a00-805b-4699-b032-ad761257d2dd.png)
   ouputì— bufferë¥¼ ë‘ì–´ FIFOë¡œ ë‚˜ê°€ê²Œ ë©ë‹ˆë‹¤.
2. Priority scheduling
   ![image](https://user-images.githubusercontent.com/77886826/196272166-5f58471e-f5ad-4c47-82b1-c86cdf3c804f.png)
   ê°€ì¥ ìš°ì„ ìˆœìœ„ê°€ ë†’ì€ ê²ƒì´ ë¨¼ì € ë‚˜ê°‘ë‹ˆë‹¤. ì´ë°©ì‹ì„ ì‚¬ìš©í•˜ê²Œ ë˜ë©´ ìš°ì„ ìˆœìœ„ê°€ ë‚®ì€ê²ƒì€ ëª» ë‚˜ê°ˆìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.
3. Weighted Fair Queuing
   ![image](https://user-images.githubusercontent.com/77886826/196272677-0cf5f439-21fe-481d-918d-5a608c670ed6.png)
   ìš°ì„ ìˆœìœ„ë¥¼ ê°€ì¤‘ì¹˜ë¥¼ ë‘ì–´ ë‚´ë³´ëƒ…ë‹ˆë‹¤.

# Reference

ì•„ì§ ë°°ì›€ì˜ ë‹¨ê³„ë¼ ì •í™•í•œ ì •ë³´ê°€ ì•„ë‹ ìˆ˜ ìˆìŠµë‹ˆë‹¤.ğŸ˜‚  
í”¼ë“œë°±ì€ seoungin1228@gmail.com ìœ¼ë¡œ ë¶€íƒë“œë¦¬ê² ìŠµë‹ˆë‹¤â˜ºï¸

<br>
 - [ë„¤íŠ¸ì›¤í¬ : Network Layer ì •ë¦¬](https://m.blog.naver.com/PostView.naver?isHttpsRedirect=true&blogId=jk130694&logNo=220731737874)     
 - [ì´ˆí¬íŒ¨í‚·ì´ë€?](https://m.blog.naver.com/PostView.naver?isHttpsRedirect=true&blogId=jk130694&logNo=220731737874)
